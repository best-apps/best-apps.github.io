<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>GOè¯­è¨€å­¦ä¹ ç¬”è®°-ä¹‹ä¸€</title>
    <meta name="baidu-site-verification" content="UEKwThMjA1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="MobileOptimized" content="width">
	<meta name="HandheldFriendly" content="true">
   
  <meta name="keywords" content="goè¯­è¨€,golang,GOè¯­è¨€å­¦ä¹ ç¬”è®°">
 
  
    <meta name="description" content="GOè¯­è¨€å­¦ä¹ ç¬”è®°,è…¾è¾¾æ ¼å°”åšå®¢">
  
    <meta name="author" content="è…¾è¾¾æ ¼å°”">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/twitter/stylesheets/bootstrap.min.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/stylesheets/style.css" type="text/css" rel="stylesheet" media="all">
<link href="/assets/twitter/widgets/google_prettify/stylesheets/twitter-bootstrap.css" type="text/css" rel="stylesheet" media="all">
 

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">è…¾è¾¾æ ¼å°”çš„åšå®¢</a>
          <ul class="nav">
            
              


  <li><a href="/archive">Archive</a></li>


            
              


  <li><a href="/tags">Tags</a></li>


            
              


  <li><a href="/categories">Categories</a></li>


            
              


  <li><a href="/pages">Pages</a></li>


            
              


  <li><a href="/about">About</a></li>


            
            æ¬²ç©·åƒé‡Œç›®ï¼Œæ›´ä¸Šä¸€å±‚æ¥¼ã€‚å±…é«˜å£°è‡ªè¿œ,éæ˜¯è—‰ç§‹é£ã€‚
          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        <div class="page-header">
  <h1>GOè¯­è¨€å­¦ä¹ ç¬”è®°-ä¹‹ä¸€ </h1>
</div>

<div class="row">
  <div class="span8">
    <h1><a style="display: block;" name="å˜é‡" href="#å˜é‡"></a>å˜é‡</h1>

<h2><a style="display: block;" name="å®šä¹‰å˜é‡" href="#å®šä¹‰å˜é‡"></a>å®šä¹‰å˜é‡</h2>

<pre><code>var
(
    i int 
    j int = 0
    s string 
    m string = &quot;test&quot;
)
</code></pre>

<p>æˆ–è€…</p>

<pre><code>var i int
var j int = 0
s string 
m string = &quot;test&quot;
</code></pre>

<p>æˆ–è€…
    j := 0
    m := &ldquo;test&rdquo;</p>

<h2><a style="display: block;" name="å®šä¹‰å¸¸é‡" href="#å®šä¹‰å¸¸é‡"></a>å®šä¹‰å¸¸é‡</h2>

<pre><code>const DB_COUNT = 10
const DB_STR = &quot;SQLITE3&quot;
</code></pre>

<h2><a style="display: block;" name="å®šä¹‰ç»“æ„ä½“" href="#å®šä¹‰ç»“æ„ä½“"></a>å®šä¹‰ç»“æ„ä½“</h2>

<pre><code>//å®šä¹‰ä¸“ä¸šä¿¡æ¯ç»“æ„ä½“
type SpecialtyInfoItem struct {
    id      int    //å­¦æ ¡ç¼–ç 
    school  string //å­¦æ ¡åç§°
    title   string //ä¸“ä¸šåç§°
    content string //ä¸“ä¸šå†…å®¹
}
</code></pre>

<h2><a style="display: block;" name="å˜é‡ç±»å‹è½¬æ¢" href="#å˜é‡ç±»å‹è½¬æ¢"></a>å˜é‡ç±»å‹è½¬æ¢</h2>

<p>1ã€æ•´å½¢åˆ°å­—ç¬¦ä¸²ï¼š</p>

<pre><code>var i int = 1  
var s string  
s = strconv.Itoa(i) 
</code></pre>

<p>æˆ–è€…</p>

<pre><code>s = FormatInt(int64(i), 10)  
</code></pre>

<p>2ã€å­—ç¬¦ä¸²åˆ°æ•´å½¢</p>

<pre><code>var s string = &quot;1&quot;  
var i int  
i, err = strconv.Atoi(s) 
</code></pre>

<p>æˆ–è€…</p>

<pre><code>i, err = ParseInt(s, 10, 0)  
</code></pre>

<p>3ã€å­—ç¬¦ä¸²åˆ°float(32 / 64)</p>

<pre><code>var s string = 1  
var f float32  
f, err = ParseFloat(s, 32)  
</code></pre>

<p>float 64çš„æ—¶å€™å°†ä¸Šé¢å‡½æ•°ä¸­çš„32è½¬ä¸º64å³å¯</p>

<p>4ã€æ•´å½¢åˆ°floatæˆ–è€…floatåˆ°æ•´å½¢
    ç›´æ¥ä½¿ç”¨float(i)
æˆ–è€…
    int(f) ç›´æ¥è¿›è¡Œè½¬æ¢å³å¯</p>

<p>æ•°æ®ç±»å‹</p>

<pre><code>var varName typeï¼Œvar var1,var2â€¦ typeï¼Œvar varName type = Valueï¼Œvar varName1,varName2 type = Value1,Value2ï¼Œvar varName1,varName2=Value1,Value2ï¼ŒvarName1,varName2:=Value1,Value2ï¼Œå®šä¹‰æ•°æ®ç±»å‹ã€‚

å£°æ˜äº†æ²¡æœ‰è¢«ä½¿ç”¨çš„å˜é‡å°†åœ¨ç¼–è¯‘æ—¶æŠ¥é”™ã€‚

å¸¸é‡å®šä¹‰ï¼š const varName = Value , const varName type = Value

stringå­—ç¬¦ä¸²ç±»å‹å€¼ä¸å¯æ”¹å˜ï¼Œä½†æ˜¯å¯ä»¥åˆ‡ç‰‡ï¼Œå­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨+è¿›è¡Œè¿æ¥

iotaç”¨æ¥å£°æ˜enumï¼Œè¡¨ç¤ºè‡ªåŠ 1ï¼Œåˆå§‹ä¸º0

var arrayName [N]typeç”¨æ¥å£°æ˜æ•°ç»„ï¼Œæˆ–è€…ä½¿ç”¨ arrayName := [N]type{ v1,v2â€¦}æ¥å£°æ˜

æ•°ç»„å£°æ˜å¯ä»¥åµŒå¥—

sliceç”¨æ¥è¡¨ç¤ºåˆ‡ç‰‡ï¼Œå£°æ˜æ–¹å¼var sliceName []typeæˆ–è€…sliceName := []type{v1,v2â€¦}

sliceä¿å­˜çš„æ˜¯å¼•ç”¨è€Œéå®ä½“

åœ¨sliceä¸­æœ‰ä¸€äº›å†…ç½®å‡½æ•°ï¼Œlenè·å–é•¿åº¦ï¼Œcapè·å–æœ€å¤§å®¹é‡ï¼Œappendè¿½åŠ æ•°æ®ï¼Œcopyç”¨æ¥æ‹·è´æ•°æ®

mapå£°æ˜æ–¹å¼ä¸ºvar mapName map[keyType] valueTypeæˆ–è€…mapName := make(map[keyType]valueType)

mapå¯é€šè¿‡ key : value åˆå§‹åŒ–

makeç”¨äºå†…å»ºç±»å‹çš„å†…å­˜åˆ†é…ï¼Œnewç”¨äºå„ç§ç±»å‹çš„å†…å­˜åˆ†é…ï¼Œnewè¿”å›æŒ‡é’ˆè€Œmakeè¿”å›é0çš„å€¼
</code></pre>

<p>æµç¨‹æ§åˆ¶</p>

<pre><code>ifè¯­å¥ä¸éœ€è¦æ‹¬å·ï¼Œåœ¨ifè¯­å¥ä¸­å¯ä»¥å£°æ˜å˜é‡ï¼Œç”¨åˆ†å¥½åˆ†å‰²ifè¯­å¥çš„æ¡ä»¶åˆ¤æ–­

  if x:=function();x&lt;10 {
      fmt.Printf(&quot;x &lt; 10,%d\n&quot;,x);
  }else{
      fmt.Print(&quot;x &gt;= 10 ,%d\n&quot;,x);
  }

gotoè¯­å¥ç±»ä¼¼Cè¯­è¨€ï¼Œä½†æ˜¯è·³è½¬åˆ°å¿…é¡»åœ¨å½“å‰å‡½æ•°å†…å®šä¹‰çš„æ ‡ç­¾

forè¯­å¥ç±»ä¼¼Cè¯­è¨€ï¼Œä½†æ˜¯breakå’Œcontinueå¯ä»¥è·Ÿæ ‡å·ï¼Œè·³å‡ºå¤šé‡å¾ªç¯ã€‚

switchè¯­å¥ä¸ç”¨breakï¼Œå¦‚æœæƒ³å¼ºè¡Œæ‰§è¡Œä¸‹é¢çš„caseå¯ä»¥ä½¿ç”¨fallthrough
</code></pre>

<p>å‡½æ•°</p>

<p>å£°æ˜æ–¹å¼ï¼š</p>

<p>func funcName(input1 type1, input2 type2) (output1 type1, output2 type2)</p>

<pre><code>funcç”¨æ¥å£°æ˜å‡½æ•°ï¼Œå‡½æ•°åä¸ºfuncNameï¼Œåé¢è·Ÿè¾“å…¥ï¼Œè¾“å‡ºçš„æ•°æ®ç±»å‹ã€‚

å‡½æ•°å¯ä»¥æœ‰å¤šä¸ªè¿”å›å€¼

å‡½æ•°çš„å€¼æ“ä½œå’ŒæŒ‡é’ˆæ“ä½œç±»ä¼¼Cè¯­è¨€ï¼Œå†…ç½®ç±»å‹ä¸­çš„string,slice,mapç›´æ¥ä½¿ç”¨çš„æ˜¯ç±»ä¼¼çš„æŒ‡é’ˆä¼ é€’ï¼Œä¸ç”¨ä½¿ç”¨å–åœ°å€ç¬¦ï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦æ”¹å˜sliceçš„é•¿åº¦ï¼Œåˆ™éœ€è¦å–åœ°å€ç©¿æŒ‡é’ˆã€‚

deferè¯­å¥ç”¨æ¥è¡¨ç¤ºåœ¨å‡½æ•°è¿”å›å‰æ‰§è¡Œçš„è¯­å¥ã€‚

type typeName func(input1 inputType1 , input2 inputType2 [, ...]) (result1 resultType1 [, ...])ç”¨æ¥å£°æ˜ä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œä¸»è¦ç”¨äºé«˜é˜¶å‡½æ•°ä¸­ã€‚

importç”¨æ¥å¯¼å…¥åŒ…ï¼Œpackageç”¨æ¥å¯¼å‡ºåŒ…ï¼ŒåŒ…æ“ä½œä½¿ç”¨.æ“ä½œç¬¦
</code></pre>

<p>Structç±»å‹</p>

<pre><code>å£°æ˜æ–¹å¼ï¼š

  type Person struct {
  name string
  age int
  }

åŒ¿åæ–¹å¼ï¼ŒåŒ¿åæ–¹å¼ä¸‹Aå«æœ‰Bçš„æ‰€æœ‰ç±»å‹

  type Student struct {
  Person  // é»˜è®¤Personçš„æ‰€æœ‰å­—æ®µ
  speciality string
  }

å¦‚æœåŒ¿åç±»å‹ä¸­æœ‰å­—æ®µå’Œæœ¬èº«æœ‰å†²çªï¼Œå¯ä»¥ä½¿ç”¨åŒ¿åç±»å‹+.è®¿é—®

ç±»å‹çš„æ–¹æ³•å£°æ˜ï¼š

  func (r ReceiverType) funcName(parameters) (results)

å¯ä»¥ä½¿ç”¨ï¼štype typeName typeLiteralæ¥è‡ªå®šä¹‰ç±»å‹ï¼Œå®šä¹‰å®Œä»¥åå¯ä»¥ä½¿ç”¨æ–¹æ³•æ¥æ‰©å±•ç±»å‹çš„åŠŸèƒ½ã€‚

éœ€è¦æ”¹å˜structå†…éƒ¨çš„å€¼æ—¶ï¼Œéœ€è¦å°†ReceiverTypeå®šä¹‰ä¸º*æŒ‡é’ˆç±»å‹ï¼Œä½†æ˜¯è°ƒç”¨çš„æ—¶å€™ä¸éœ€è¦ï¼Œgoè¯­è¨€è‡ªåŠ¨å¸®ä½ å®Œæˆäº†ã€‚

æ–¹æ³•å¯ä»¥ç»§æ‰¿ï¼Œå¯ä»¥é‡è½½
</code></pre>

<p>interfaceæ¥å£</p>

<pre><code>type InterfaceName interfaceç”¨æ¥å®šä¹‰inerface

interfaceç±»å‹å®šä¹‰äº†ä¸€ç»„æ–¹æ³•ï¼Œå¦‚æœæŸä¸ªå¯¹è±¡å®ç°äº†æŸä¸ªæ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œåˆ™æ­¤å¯¹è±¡å°±å®ç°äº†æ­¤æ¥å£ã€‚

ç©ºinterface(interface{})ä¸åŒ…å«ä»»ä½•çš„methodï¼Œæ­£å› ä¸ºå¦‚æ­¤ï¼Œæ‰€æœ‰çš„ç±»å‹éƒ½å®ç°äº†ç©ºinterface

ä¸€ä¸ªå‡½æ•°æŠŠinterface{}ä½œä¸ºå‚æ•°ï¼Œé‚£ä¹ˆä»–å¯ä»¥æ¥å—ä»»æ„ç±»å‹çš„å€¼ä½œä¸ºå‚æ•°ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°è¿”å›interface{},é‚£ä¹ˆä¹Ÿå°±å¯ä»¥è¿”å›ä»»æ„ç±»å‹çš„å€¼

value, ok = element.(T)ï¼Œè¿™é‡Œvalueå°±æ˜¯å˜é‡çš„å€¼ï¼Œokæ˜¯ä¸€ä¸ªboolç±»å‹ï¼Œelementæ˜¯interfaceå˜é‡ï¼ŒTæ˜¯æ–­è¨€çš„ç±»å‹ï¼Œå¦‚æœokä¸ºtrueåˆ™è¡¨ç¤ºï¼Œelementç¡®å®æ˜¯Tç±»å‹çš„ã€‚

interfaceå¯ä»¥åµŒå¥—
</code></pre>

<p>å¹¶å‘</p>

<pre><code>ä½¿ç”¨goå…³é”®å­—+å‡½æ•°åå®ç°å¹¶å‘

ä½¿ç”¨channelå®ç°çº¿ç¨‹é—´é€šè®¯ï¼Œchannelé€šè¿‡makeæ„é€ ï¼Œä½¿ç”¨&lt;-æ¥å‘é€å’Œæ¥å—æ•°æ®ã€‚

chanæ˜¯channelçš„å…³é”®å­—ï¼Œåé¢è·Ÿæ•°æ®ç±»å‹ch &lt;- vå‘é€æ•°æ®ï¼Œv:=&lt;-chæ¥æ”¶æ•°æ®ï¼Œchæ˜¯chanç±»å‹ã€‚

  package main
  import &quot;fmt&quot;
  func sum(a []int, c chan int) {
      total := 0
      for _, v := range a {
          total += v
      }
      c &lt;- total  // send total to c
  }

  func main() {
      a := []int{7, 2, 8, -9, 4, 0}
      c := make(chan int)
      go sum(a[:len(a)/2], c)
      go sum(a[len(a)/2:], c)
      x, y := &lt;-c, &lt;-c  // receive from c
      fmt.Println(x, y, x + y)
  }

channelé»˜è®¤æ˜¯é˜»å¡å½¢å¼çš„ï¼Œå¯ä»¥è¿›è¡Œçº¿ç¨‹åŒæ­¥ã€‚

ch := make(chan type, value)æ„é€ channelæ—¶å¯é€šè¿‡è®¾ç½®ä¸åŒçš„valueæ¥è®¾å®šchannlçš„bufferé•¿åº¦ã€‚

closeç”¨æ¥å…³é—­channel

ä½¿ç”¨select+caseæ¥é€‰æ‹©å¤šä¸ªchannel

ä½¿ç”¨select + case &lt;- time.After(5 * time.Second)æ¥è®¾å®šè¶…æ—¶

Goexit é€€å‡ºå½“å‰æ‰§è¡Œçš„goroutineï¼Œä½†æ˜¯deferå‡½æ•°è¿˜ä¼šç»§ç»­è°ƒç”¨

Gosched è®©å‡ºå½“å‰goroutineçš„æ‰§è¡Œæƒé™ï¼Œè°ƒåº¦å™¨å®‰æ’å…¶ä»–ç­‰å¾…çš„ä»»åŠ¡è¿è¡Œï¼Œå¹¶åœ¨ä¸‹æ¬¡æŸä¸ªæ—¶å€™ä»è¯¥ä½ç½®æ¢å¤æ‰§è¡Œã€‚

NumCPU è¿”å› CPU æ ¸æ•°é‡

NumGoroutine è¿”å›æ­£åœ¨æ‰§â¾è¡Œå’Œæ’é˜Ÿçš„ä»»åŠ¡æ€»æ•°

GOMAXPROCS ç”¨æ¥è®¾ç½®å¯ä»¥è¿è¡Œçš„CPUæ ¸æ•°
</code></pre>

<h2><a style="display: block;" name="è§£æå‘½ä»¤è¡Œ" href="#è§£æå‘½ä»¤è¡Œ"></a>è§£æå‘½ä»¤è¡Œ</h2>

<pre><code>package main
import (
&quot;fmt&quot;
&quot;flag&quot; //å‘½ä»¤è¡Œé€‰é¡¹è§£æå™¨
)

var input_action = flag.String(&quot;action&quot;, &quot;startweb&quot;, &quot;è¯·è¾“å…¥åŠ¨ä½œstartweb å¯åŠ¨webserver ,initdb åˆå§‹åŒ–æ•°æ®åº“ &quot;)

func main() {
    //è§£æå‘½ä»¤è¡Œ
    flag.Parse()
    fmt.Println(&quot;action=&quot;, *input_action)
    switch *input_action {
    case &quot;startweb&quot;:
        //startWebServer() //å¯åŠ¨webserver
    case &quot;initdb&quot;:
        //myweb_lib.InitKmDB() //é‡æ–°ç”ŸæˆçŸ¥è¯†åº“æ•°æ®åº“ï¼Œåªåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨
    default:
        flag.Usage()
    }

}
</code></pre>

    <hr>
    <div class="pagination">
      <ul>
        <ul>
          
            <li class="prev"><a href="/code/go/study_css_01.html" title="csså­¦ä¹ ">&larr; Previous</a></li>
          
          

            <li><a href="/archive">Archive</a></li>

          
            <li class="next"><a href="/zatan/about_neixiang.html" title="é€ç»™ç¨‹åºå‘˜ï¼šå…³äºæ€§æ ¼å†…å‘è€…çš„10ä¸ªè¯¯è§£">Next &rarr;</a></li>
          
          
        </ul>
      </ul>
    </div>
    <hr>
    
<div id="disqus_thread"></div>
<script>
    var disqus_developer = 1;
    var disqus_shortname = 'bestappsnowcom'; // required: replace example with your forum shortname
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>2014-09-04</span></div>
    <br>
    <h4>Categories</h4>
    <ul class="tag_box">
    
      <li>
  <a href="/categories/#%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-ref">å­¦ä¹ ç¬”è®° <span>3</span></a>
</li>
    
    </ul>
    <br>
    <h4>Tags</h4>
    <ul class="tag_box">
    
      <li>
  <a href="/tags/#golang-ref">golang <span>2</span></a>
</li>
    
    </ul>
  </div>
</div>

      </div>

      <footer>
    
       
          <div class="bdsharebuttonbox"><a href="#" class="bds_more" data-cmd="more"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{},"image":{"viewList":[],"viewText":"·ÖÏíµ½£º","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":[]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script> 
         å‘ç€æ¢¦æƒ³å‡ºå‘ï¼Œè™½ç„¶æˆ‘ç¾½ç¿¼æœªä¸°ï¼Œä½†æˆ‘æœ‰ä¹˜é£ç ´æµªçš„å‹‡æ°”ï¼Œæœ‰æ¢¦æƒ³æˆçœŸçš„ä¿¡å¿ƒã€‚    <br>
        &copy; è…¾è¾¾æ ¼å°” 2014 
          with help from <a href="http://github.com/wendal/gor" target="_blank" title="Gor -- Fast Blog">Gor</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
		  and Idea from <a href="http://ruhoh.com" target="_blank" title="The Definitive Technical Blogging Framework">ruhoh</a>
     
      </footer>

    </div> <!-- /container -->
    <!--
    
     -->
    
    
    
  </body>
</html>
